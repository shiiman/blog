---
id: 1686
title: 【mac】OSをCatalinaからMontereyにアップデートしたらとんでもないことに&#8230;
slug: monterey
status: publish
date: 2022-07-03T19:30:00
modified: 2022-07-02T16:42:51
excerpt: macOSをCatalinaからMontereyにアップデートした際に発生した問題と、その対処方法を紹介します。
categories:
    - 106
    - 18
tags:
    - 117
    - 118
featured_media: 1687
---

皆さんmacのOSは何を使用していますでしょうか。

私は先月まで **Catalina** を使用していました。catalinaは2019年10月にリリースされたOSで既に2年以上経っているOSで、その後に **Big Sur, Monterey** と2つの新しいOSが登場しています。

とはいえcatalinaが特段問題が合ったわけではないのですが、会社のセキュリティの都合上、Big Sur以上にアップデートしないといけないことになりました。

今回はそんな経緯でOSをアップデートしたところ、みまわれた **不具合** のいくつかを紹介致します。

中々同じような方はいないと思いますが、少しでも情報を残しておければと思います。

## Mac OS

まずはMacのOSの歴史を少しまとめてみましょう。

MacのOSは「Mac OS X 10.0」の頃からOSの名前がついていて、マイナーバージョンのアップデートと共に名前も変わっていきました。

私が初めてmacを購入したのは大学生の頃でしたが、確かOSは「Mac OS X 10.5 (Leopard)」だった気がします。そして「 **Snow Leopard**」「 **Lion**」くらいまでアップデートして使用していました。

Catalinaは「OS X」という表記がなくなった「 **macOS 10.15**」の呼び名ですね。10.系の最後のOSに当たります。

その後のBig Surは「 **macOS 11**」, 今回アップデートしたMontereyは「 **macOS 12**」とメジャーバージョンが1つずつ上がっています。

そうなんですよね。周りでアップデートされた方はそんなに問題になっていなかったのでそこまで心配していなかったんですが、**メジャーバージョンが変わっている**んですよね。(アップデートの数え方が変わっただけかもしれませんが)

だからアップデートももう少し慎重に行えばよかったです。

## アップデートの結果

結論から言うと、私はアップデート後 **PCの動作が不安定** になり、色々試しましたが結局 **PCを交換する** ことになってしまいました。(今 半導体問題でなかなかmacが手に入らないんですよ。。。)

皆さんもアップデートにはお気をつけを!!!

とはいえ、私の場合はOSのアップデートだけが原因というわけではなかったと思います。

会社で使用しているPCの **セキュリティソフト** と **Docker** や **Unity** の相性が悪く、フリーズを繰り返したり動作が重くなったりするようです。なのでこのあたりは仕方がないのでうまいこと折り合いをつけるしかありません。

ですので、そのあたりの情報は共有してもどうしようもないので、開発環境やツールを使用する上で問題になったことやアップデートしたことを少し共有できればと思います。

## Monterey対応

アップデート後に対応したことは以下の3点です。

### Google日本語入力

まず最初に困ったのはGoogle日本語入力を使用していたんですが、なぜかこちらが解除されてデフォルトの文字入力に戻ってしまったことです。

こちらはしょうがないので、

「システム環境設定」->「キーボード」-\> 「入力ソース」

からGoogle入力を再設定し直しました！

### zsh

次に困ったのは **ターミナルが開かなくなってしまった** 点です。

原因はいつも **初期セットアップシェル** でデフォルトのシェルをzshのパスに指定していたのですが、**「Big Sur」以降、デフォルトシェルがzshになった**ので、今まで指定していたzshのパスが存在しないパスになっていたことです。

細かく説明すると今までは Homebrewでzshインストールして、下記コマンドでデフォルトシェルのパスをインストールしたzshのパスで指定していました。

```
chsh -s /usr/local/bin/zsh
```

しかしデフォルトでzshが「/bin/zsh」に入っていることでHomebrewでのインストールが失敗していたのに、上記コマンドは発行されていたので、そんなパスのシェルは無いということでターミナルが終了していたという感じです。

こちらはおとなしく **初期セットアップシェル** を修正することで回避しました。

### Homebrewのパス

最後に困ったのはHomebrewの格納パスが変更されていたことです。

今までは下記ディレクトリ配下に格納されていました。

```
/usr/local/opt/
```

しかしアップデート後は下記のパス配下に変わっていました。

```
/opt/homebrew/
```

先程も出てきた **初期セットアップシェル** や、 **.zshrc** などで結構パスを記載していた箇所が合ったので、その辺のツールなどが軒並み動かなくなっていました。

こちらはパスをアップデートして対応しました。

## まとめ

今回はmacのOSをアップデートした際の不具合についてまとめてみました。

会社のセキュリティソフトに関してはPCを新しくした現在もちょいちょい不具合っぽい挙動をみせています。こちらは個人ではどうにもならないので、不具合の声が多くなれば対応もされてくるだろうと思っています。

それ以外の不具合については個人的な環境構築方法だったりで人それぞれ問題も変わってくるかと思います。私もPCセットアップをなるべくスムーズにするために「 **初期セットアップシェル**」を作っているので、今回はそちらでいくつか不具合がありましたね。

ただし、今回OSをアップデートしたことで、それらの不具合を修正できましたので、結果良かったかなと思います。やはり定期的にそのあたりのツールは更新をかけていかないとだめですね。

ということで、今回はOSのアップデートの話でした。何かしらの参考になりましたら幸いです。

皆さんOSをアップデートする際は**データが消えてもいいようにバックアップ**を取りつつ、十分気をつけて行いましょう！！